
{# Base template #}
{% extends "admin/base.html" %}

<!--
    IMPORTANT

    This file implements the 'reset password' functionality.
    It was working correctly in July 2025, but the feature was disabled.
    The code is retained in case it is decided to enable it in the future.
    To do so, delete {% comment %} and {% endcomment %}
-->

<!--
This template extends the Django admin base layout and provides a page
for users to set a new password. It customizes the page title, adds a
breadcrumb link to return to the home page, and displays a form to
submit the new password securely with CSRF protection.
-->

{% comment %}

{# Sets the page title #}
{% block title %}Dwarfs4MOSAIC | Set new password{% endblock %}

{# Defines the breadcrumb text for navigation #}
{% block breadcrumbs %}
    <div class="breadcrumbs">
        <a href="{% url 'home' %}" class="btn btn-primary">Return to site</a>
    </div>
{% endblock %}

{% block content %}
    {# Password change form using POST method #}
    <form method="post">
        {# CSRF token to protect against cross-site request forgery attacks #}
        {% csrf_token %}

        {# Render form fields wrapped in <p> tags #}
        {{ form.as_p }}

        {# Submit button to send the password change request #}
        <button type="submit">Change my password</button>
      </form>
{% endblock %}

{% endcomment %}